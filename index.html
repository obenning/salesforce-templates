<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salesforce Template Editor</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            margin: 0; 
            padding: 0; 
        }

        .border-2[contenteditable="true"] a {
            color: #009CE6;
            text-decoration: underline;
            cursor: pointer;
        }
        .border-2[contenteditable="true"] a:hover {
            color: #007DB7;
        }

        .icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            text-align: center;
            font-size: 14px;
        }
        .copy-dropdown {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            padding: 0.5rem;
            z-index: 10;
            min-width: 12rem;
        }
        .copy-dropdown-parent:hover .copy-dropdown {
            display: block;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        // Einfache Icon-Komponenten (Unicode)
        const Icons = {
            Copy: () => React.createElement('span', { className: 'icon' }, 'üìã'),
            Plus: () => React.createElement('span', { className: 'icon' }, '+'),
            Edit: () => React.createElement('span', { className: 'icon' }, '‚úèÔ∏è'),
            Eye: () => React.createElement('span', { className: 'icon' }, 'üëÅÔ∏è'),
            Download: () => React.createElement('span', { className: 'icon' }, '‚¨áÔ∏è'),
            Upload: () => React.createElement('span', { className: 'icon' }, '‚¨ÜÔ∏è'),
            Trash: () => React.createElement('span', { className: 'icon' }, 'üóëÔ∏è'),
            Package: () => React.createElement('span', { className: 'icon' }, 'üì¶'),
            PlusCircle: () => React.createElement('span', { className: 'icon' }, '‚ûï'),
            ArrowUp: () => React.createElement('span', { className: 'icon' }, '‚¨ÜÔ∏è'),
            ArrowDown: () => React.createElement('span', { className: 'icon' }, '‚¨áÔ∏è'),
            Clone: () => React.createElement('span', { className: 'icon' }, 'üë•'),
            Format: () => React.createElement('span', { className: 'icon' }, 'üé®')
        };

        const SalesforceTemplateEditor = () => {
            // Modul-Bibliothek
            const [modules, setModules] = useState({
                'Header mit Logo': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="background-color: #063AA8; padding: 20px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td><img alt="Kerberos-Logo" src="https://go.kerberos-compliance.com/l/904532/2021-01-28/3lqr/904532/1615539833EjZICKBp/Logo.png" style="width: 160px; height: 32px;" title="Kerberos-Logo" /></td>
									<td align="right">&nbsp;</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Header Einfach': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<img alt="Logo" src="https://go.kerberos-compliance.com/l/904532/2021-01-28/3lqr/904532/1615539833EjZICKBp/Logo.png" style="width: 140px; height: auto;" title="Logo" />
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Header mit Navigation': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td><img alt="Logo" src="https://go.kerberos-compliance.com/l/904532/2021-01-28/3lqr/904532/1615539833EjZICKBp/Logo.png" style="width: 120px;" title="Logo" /></td>
									<td align="right">
									<a href="#" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px; text-decoration: none;">Home</a> | 
									<a href="#" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px; text-decoration: none;">Services</a> | 
									<a href="#" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px; text-decoration: none;">Kontakt</a>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Haupt√ºberschrift': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<h1 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 22px;">Ihr Titel hier</h1>
						<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>{{#if Recipient.FirstName}}Guten Tag {{{Recipient.FirstName}}} {{{Recipient.LastName}}},{{else}}Guten Tag,{{/if}}</strong></p>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Textblock': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Ihr Text hier. Sie k√∂nnen diesen Text √ºber mehrere Abs√§tze erweitern und <strong>wichtige Punkte hervorheben</strong>.</p>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Zitat/Testimonial': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #f1f3f5; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 20px;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #495057; font-size: 16px; font-style: italic;">&quot;Ein gro√üartiger Service! Sehr empfehlenswert f√ºr alle, die professionelle Compliance-L√∂sungen suchen.&quot;</p>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px; font-weight: bold;">- Max Mustermann, CEO</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Info-Box': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #f1f3f5; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 15px;">
									<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 18px;">Info-Box Titel</h3>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Wichtige Informationen in hervorgehobener Box.</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Erfolg-Box': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #d4edda; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 15px;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #155724; font-size: 14px;"><strong>‚úì Erfolgreich:</strong> Ihre Aktion wurde best√§tigt.</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Warnung-Box': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #fff3cd; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 15px;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #856404; font-size: 14px;"><strong>‚ö† Wichtig:</strong> Hier steht eine wichtige Warnung oder ein Hinweis.</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Aufz√§hlungsliste': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Listen√ºberschrift</h3>
						<ul style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">
							<li><strong>Punkt 1:</strong> Beschreibung</li>
							<li><strong>Punkt 2:</strong> Beschreibung</li>
							<li><strong>Punkt 3:</strong> Beschreibung</li>
						</ul>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Nummerierte Liste': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Schritt-f√ºr-Schritt</h3>
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="width: 30px; vertical-align: top; font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px; font-weight: bold;">1.</td>
									<td style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Erster Schritt der Anleitung</td>
								</tr>
								<tr>
									<td style="width: 30px; vertical-align: top; font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px; font-weight: bold;">2.</td>
									<td style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Zweiter Schritt der Anleitung</td>
								</tr>
								<tr>
									<td style="width: 30px; vertical-align: top; font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px; font-weight: bold;">3.</td>
									<td style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Dritter Schritt der Anleitung</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Primary Button': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #009CE6;">
							<tbody>
								<tr>
									<td style="padding: 12px 25px;"><a href="#LINK_HIER" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 14px; text-decoration: none; font-weight: bold;">Button Text &rarr;</a></td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Secondary Button': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<table cellpadding="0" cellspacing="0" style="background-color: transparent; width: auto;">
							<tbody>
								<tr>
									<td style="padding: 10px 20px; border: 2px solid #009CE6;"><a href="#LINK_HIER" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #009CE6; font-size: 14px; text-decoration: none; font-weight: bold;">Mehr erfahren</a></td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Button-Gruppe': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td align="center" style="padding: 10px;">
									<table cellpadding="0" cellspacing="0" style="background-color: #009CE6;">
										<tbody>
											<tr>
												<td style="padding: 12px 20px;"><a href="#LINK1" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 14px; text-decoration: none; font-weight: bold;">Hauptaktion</a></td>
											</tr>
										</tbody>
									</table>
									</td>
									<td align="center" style="padding: 10px;">
									<table cellpadding="0" cellspacing="0" style="background-color: transparent;">
										<tbody>
											<tr>
												<td style="padding: 10px 18px; border: 2px solid #009CE6;"><a href="#LINK2" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #009CE6; font-size: 14px; text-decoration: none; font-weight: bold;">Alternative</a></td>
											</tr>
										</tbody>
									</table>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Zwei-Spalten Layout': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="width: 50%; padding: 10px; vertical-align: top;">
									<h4 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Linke Spalte</h4>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Inhalt der linken Spalte</p>
									</td>
									<td style="width: 50%; padding: 10px; vertical-align: top;">
									<h4 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Rechte Spalte</h4>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Inhalt der rechten Spalte</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Drei-Spalten Layout': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="width: 33%; padding: 8px; vertical-align: top;">
									<h4 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px;">Spalte 1</h4>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 12px;">Inhalt</p>
									</td>
									<td style="width: 33%; padding: 8px; vertical-align: top;">
									<h4 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px;">Spalte 2</h4>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 12px;">Inhalt</p>
									</td>
									<td style="width: 33%; padding: 8px; vertical-align: top;">
									<h4 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 14px;">Spalte 3</h4>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 12px;">Inhalt</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Termin-Box': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #f1f3f5; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 15px;">
									<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 18px;">üìÖ Termine</h3>
									<ul style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">
										<li><strong>Datum 1:</strong> Beschreibung</li>
										<li><strong>Datum 2:</strong> Beschreibung</li>
									</ul>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Event-Karte': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #063AA8; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 20px;">
									<table cellpadding="0" cellspacing="0" width="100%">
										<tbody>
											<tr>
												<td style="width: 80px; vertical-align: top;">
												<div style="background-color: #ffffff; padding: 10px; text-align: center;">
													<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 24px; font-weight: bold;">15</span><br>
													<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 12px;">M√ÑR</span>
												</div>
												</td>
												<td style="padding: 0 15px; vertical-align: top;">
												<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 18px;">Webinar: Compliance Update</h3>
												<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #adb5bd; font-size: 14px;">9:00 - 10:30 Uhr | Online</p>
												<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 14px;">Wichtige Updates zu aktuellen Compliance-Themen.</p>
												</td>
											</tr>
										</tbody>
									</table>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Preis-Box': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #f1f3f5; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 20px; text-align: center;">
									<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 18px;">Schulung Basis</h3>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #009CE6; font-size: 32px; font-weight: bold;">299‚Ç¨</p>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #6c757d; font-size: 12px;"><s>399‚Ç¨</s> pro Person</p>
									<ul style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px; text-align: left;">
										<li>‚úì Online-Zugang</li>
										<li>‚úì Zertifikat</li>
										<li>‚úì 2 Jahre g√ºltig</li>
									</ul>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Countdown': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 18px; text-align: center;">‚è∞ Noch 3 Tage bis zur Anmeldung!</h3>
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="width: 25%; text-align: center; padding: 10px;">
									<div style="background-color: #009CE6; padding: 15px; color: #ffffff;">
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 24px; font-weight: bold;">03</span><br>
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 12px;">TAGE</span>
									</div>
									</td>
									<td style="width: 25%; text-align: center; padding: 10px;">
									<div style="background-color: #009CE6; padding: 15px; color: #ffffff;">
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 24px; font-weight: bold;">14</span><br>
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 12px;">STD</span>
									</div>
									</td>
									<td style="width: 25%; text-align: center; padding: 10px;">
									<div style="background-color: #009CE6; padding: 15px; color: #ffffff;">
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 24px; font-weight: bold;">27</span><br>
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 12px;">MIN</span>
									</div>
									</td>
									<td style="width: 25%; text-align: center; padding: 10px;">
									<div style="background-color: #009CE6; padding: 15px; color: #ffffff;">
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 24px; font-weight: bold;">45</span><br>
										<span style="font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 12px;">SEK</span>
									</div>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Social Media': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px; text-align: center;">
						<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Folgen Sie uns</h3>
						<table cellpadding="0" cellspacing="0" style="margin: 0 auto;">
							<tbody>
								<tr>
									<td style="padding: 10px;">
									<a href="#" style="display: inline-block; width: 40px; height: 40px; background-color: #063AA8; color: #ffffff; text-decoration: none; font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 20px; font-weight: bold; text-align: center; padding: 10px;">f</a>
									</td>
									<td style="padding: 10px;">
									<a href="#" style="display: inline-block; width: 40px; height: 40px; background-color: #009CE6; color: #ffffff; text-decoration: none; font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 20px; font-weight: bold; text-align: center; padding: 10px;">in</a>
									</td>
									<td style="padding: 10px;">
									<a href="#" style="display: inline-block; width: 40px; height: 40px; background-color: #6c757d; color: #ffffff; text-decoration: none; font-family: Tahoma,Arial,Helvetica,sans-serif; font-size: 20px; font-weight: bold; text-align: center; padding: 10px;">X</a>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Kontakt-Info': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">üìû Kontakt</h3>
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="width: 50%; vertical-align: top; padding: 10px;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>Telefon:</strong><br>+49 221 123456</p>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>E-Mail:</strong><br>info@kerberos-compliance.com</p>
									</td>
									<td style="width: 50%; vertical-align: top; padding: 10px;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>Adresse:</strong><br>Im Zollhafen 24<br>50678 K√∂ln</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Trennlinie': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 20px;">
						<div style="width: 100%; height: 1px; background-color: #dee2e6;"></div>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Abstandhalter': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 30px;">
						&nbsp;
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Newsletter Anmeldung': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<table cellpadding="0" cellspacing="0" style="background-color: #063AA8; width: 100%;">
							<tbody>
								<tr>
									<td style="padding: 20px; text-align: center;">
									<h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 18px;">üìß Newsletter abonnieren</h3>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #adb5bd; font-size: 14px;">Bleiben Sie √ºber unsere neuesten Updates informiert</p>
									<table cellpadding="0" cellspacing="0" style="background-color: #009CE6; margin: 10px auto;">
										<tbody>
											<tr>
												<td style="padding: 10px 20px;"><a href="#NEWSLETTER_LINK" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 14px; text-decoration: none; font-weight: bold;">Jetzt anmelden ‚Üí</a></td>
											</tr>
										</tbody>
									</table>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Rechtlicher Hinweis': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="padding: 15px;">
						<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #6c757d; font-size: 12px;">Diese E-Mail wurde an {{{Recipient.Email}}} gesendet. Falls Sie diese E-Mail f√§lschlicherweise erhalten haben oder keine weiteren E-Mails w√ºnschen, k√∂nnen Sie sich <a href="#UNSUBSCRIBE" style="color: #009CE6;">hier abmelden</a>.</p>
						<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #6c757d; font-size: 12px;">¬© 2025 Kerberos Compliance. Alle Rechte vorbehalten. | <a href="#IMPRESSUM" style="color: #009CE6;">Impressum</a> | <a href="#DATENSCHUTZ" style="color: #009CE6;">Datenschutz</a></p>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`,
                'Footer': `<table cellpadding="0" cellspacing="0" width="100%">
	<tbody>
		<tr>
			<td align="center" style="background-color: #f8f9fa;">
			<table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
				<tbody>
					<tr>
						<td style="background-color: #212529; padding: 20px;">
						<table cellpadding="0" cellspacing="0" width="100%">
							<tbody>
								<tr>
									<td style="text-align: center;"><img alt="Kerberos Logo" src="https://go.kerberos-compliance.com/l/904532/2021-01-28/3lqr/904532/1615539833EjZICKBp/Logo.png" style="width: 160px; height: 32px;" title="Kerberos Logo" /></td>
								</tr>
								<tr>
									<td style="text-align: center;">
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #adb5bd; font-size: 12px;">Kerberos Compliance-Managementsysteme GmbH<br />
									Im Zollhafen 24, 50678 K&ouml;ln</p>
									<p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #6c757d; font-size: 10px;">Sie m&ouml;chten keine weiteren Emails erhalten? Hier&nbsp;{{{Recipient.jrsl_ul_Unsubscribe_Link_Lead__c}}}&nbsp;{{{Recipient.jrsl_ul_Unsubscribe_Link_Contact__c}}}</p>
									</td>
								</tr>
							</tbody>
						</table>
						</td>
					</tr>
				</tbody>
			</table>
			</td>
		</tr>
	</tbody>
</table>`
            });

            // Templates bestehen aus Modulen
            const [templates, setTemplates] = useState({
                'Beispiel-Newsletter': {
                    modules: [
                        { id: 'module_1', name: 'Header mit Logo' },
                        { id: 'module_2', name: 'Haupt√ºberschrift' },
                        { id: 'module_3', name: 'Termin-Box' },
                        { id: 'module_4', name: 'Primary Button' },
                        { id: 'module_5', name: 'Aufz√§hlungsliste' },
                        { id: 'module_6', name: 'Footer' }
                    ],
                    customContent: {
                        'module_2': `<table cellpadding="0" cellspacing="0" width="100%">
                <tbody>
                    <tr>
                        <td align="center" style="background-color: #f8f9fa;">
                        <table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
                            <tbody>
                                <tr>
                                    <td style="padding: 15px;">
                                    <h1 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 22px;">Zertifikate-Pr√ºfung f√ºr Bayern erforderlich</h1>
                                    <p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>{{#if Recipient.FirstName}}Guten Tag {{{Recipient.FirstName}}} {{{Recipient.LastName}}},{{else}}Guten Tag,{{/if}}</strong></p>
                                    <p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">die Zertifikate f√ºr Ihre Pr√§ventionsschulungen f√ºr Servicekr√§fte Sportwette und Spielhalle <strong>in Bayern</strong> sind 2 Jahre g√ºltig. <strong>Pr√ºfen Sie jetzt die G√ºltigkeit Ihrer Mitarbeiter-Zertifikate.</strong></p>
                                    <p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">Buchen Sie bei Bedarf ‚ÄûOnline-Pr√§ventionsschulungen f√ºr Servicekr√§fte Sportwette &amp; Spielhalle" bei Kerberos Compliance in Kooperation mit der GSP-Akademie.</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </td>
                    </tr>
                </tbody>
            </table>`,
                        'module_3': `<table cellpadding="0" cellspacing="0" width="100%">
                <tbody>
                    <tr>
                        <td align="center" style="background-color: #f8f9fa;">
                        <table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
                            <tbody>
                                <tr>
                                    <td style="padding: 15px;">
                                    <table cellpadding="0" cellspacing="0" style="background-color: #f1f3f5; width: 100%;">
                                        <tbody>
                                            <tr>
                                                <td style="padding: 15px;">
                                                <h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 18px;">Verf√ºgbare Schulungstermine</h3>
                                                <ul style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">
                                                    <li><strong>Di, 30.09.2025 &amp; Mi, 01.10.2025</strong> ‚Äì jeweils von 9-13 Uhr</li>
                                                    <li><strong>Sa, 11.10.2025 &amp; So, 12.10.2025</strong> ‚Äì jeweils von 9-13 Uhr</li>
                                                </ul>
                                                <p style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;"><strong>Wichtig:</strong> Die Online-Pr√§ventionsschulungen sind ausschlie√ülich als Auffrischungsschulungen erlaubt.</p>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </td>
                    </tr>
                </tbody>
            </table>`,
                        'module_4': `<table cellpadding="0" cellspacing="0" width="100%">
                <tbody>
                    <tr>
                        <td align="center" style="background-color: #f8f9fa;">
                        <table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
                            <tbody>
                                <tr>
                                    <td style="padding: 20px;">
                                    <table cellpadding="0" cellspacing="0" style="background-color: #009CE6;">
                                        <tbody>
                                            <tr>
                                                <td style="padding: 12px 25px;"><a href="https://form.jotform.com/252654679241060" style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #ffffff; font-size: 14px; text-decoration: none; font-weight: bold;">Jetzt buchen &rarr;</a></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </td>
                    </tr>
                </tbody>
            </table>`,
                        'module_5': `<table cellpadding="0" cellspacing="0" width="100%">
                <tbody>
                    <tr>
                        <td align="center" style="background-color: #f8f9fa;">
                        <table cellpadding="0" cellspacing="0" style="background-color: #ffffff;" width="600">
                            <tbody>
                                <tr>
                                    <td style="padding: 15px;">
                                    <h3 style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #063AA8; font-size: 16px;">Warum Kerberos Compliance?</h3>
                                    <ul style="font-family: Tahoma,Arial,Helvetica,sans-serif; color: #212529; font-size: 14px;">
                                        <li>Unsere Schulungen sind <strong>in Bayern anerkannt</strong></li>
                                        <li>Durchf√ºhrung von <strong>Gl√ºcksspielexperten</strong></li>
                                        <li>Flexible Online-Termine</li>
                                        <li>Kooperation mit der GSP-Akademie</li>
                                    </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </td>
                    </tr>
                </tbody>
            </table>`
                    }
                }
            });


            const [currentTemplate, setCurrentTemplate] = useState('Bayern Schulung');
            const [editablePreview, setEditablePreview] = useState(true);
            const [previewMode, setPreviewMode] = useState(true);
            const [showModuleLibrary, setShowModuleLibrary] = useState(true);
            const [newTemplateName, setNewTemplateName] = useState('');
            const [newModuleName, setNewModuleName] = useState('');
            const [newModuleContent, setNewModuleContent] = useState('');
            const [showNewTemplateInput, setShowNewTemplateInput] = useState(false);
            const [showNewModuleInput, setShowNewModuleInput] = useState(false);
            const [editingModule, setEditingModule] = useState(null);
            const [editors, setEditors] = useState({});
            const [showEditor, setShowEditor] = useState({});
            const [activeTextarea, setActiveTextarea] = useState(null);
            const fileInputRef = useRef(null);
            const [activeEditableDiv, setActiveEditableDiv] = useState(null);

            // Paste-Handler f√ºr das Entfernen von Formatierungen
            const handlePaste = (e) => {
                e.preventDefault();
                
                // Nur reinen Text aus der Zwischenablage holen
                const text = e.clipboardData.getData('text/plain');
                
                // Text an aktueller Cursor-Position einf√ºgen
                document.execCommand('insertText', false, text);
            };

            // Formatierungs-Funktionen f√ºr Rich Text Editor
            const applyFormat = (command, value = null, targetElement = null) => {
                // Wenn ein Ziel-Element angegeben ist, fokussiere es zuerst
                if (targetElement) {
                    targetElement.focus();
                }
                document.execCommand(command, false, value);
            };

            // Kerberos Farbpalette
            const kerberosColors = {
                primary: '#063AA8',      // Kerberos Blau
                secondary: '#009CE6',    // Kerberos Hellblau
                text: '#212529',         // Standard Text
                primaryHover: '#294FC5', // Hover Blau
                secondaryHover: '#007DB7', // Hover Hellblau
                textHover: '#3A3F42',    // Hover Text
                // Abstufungen
                primary80: '#354FB4',
                primary60: '#6465C0',
                primary40: '#939ACC',
                primary20: '#C1C1D8',
                secondary80: '#33AADF',
                secondary60: '#66B8D9',
                secondary40: '#99C6D2',
                secondary20: '#CCE3EB'
            };

            const FormatToolbar = ({ moduleIndex, editableRef }) => {
                const [showColorPicker, setShowColorPicker] = React.useState(false);
                const [showLinkInput, setShowLinkInput] = React.useState(false);
                const [linkUrl, setLinkUrl] = React.useState('');

                const insertLink = () => {
                    if (linkUrl && editableRef) {
                        editableRef.focus();
                        applyFormat('createLink', linkUrl, editableRef);
                        setLinkUrl('');
                        setShowLinkInput(false);
                    }
                };

                return React.createElement('div', {
                    className: "bg-gray-100 border border-gray-300 rounded-lg p-2 mb-2 flex flex-wrap gap-2 items-center"
                }, [
                    // Textformatierung Gruppe
                    React.createElement('div', {
                        key: 'textFormat',
                        className: "flex gap-1 border-r pr-2"
                    }, [
                        React.createElement('button', {
                            key: 'bold',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('bold', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 font-bold",
                            title: "Fett (Strg+B)",
                            type: "button"
                        }, 'B'),
                        React.createElement('button', {
                            key: 'italic',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('italic', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 italic",
                            title: "Kursiv (Strg+I)",
                            type: "button"
                        }, 'I'),
                        React.createElement('button', {
                            key: 'underline',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('underline', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 underline",
                            title: "Unterstrichen (Strg+U)",
                            type: "button"
                        }, 'U')
                    ]),

                    // √úberschriften Gruppe
                    React.createElement('div', {
                        key: 'headings',
                        className: "flex gap-1 border-r pr-2"
                    }, [
                        React.createElement('button', {
                            key: 'h1',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<h1>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs font-bold",
                            title: "√úberschrift 1",
                            type: "button"
                        }, 'H1'),
                        React.createElement('button', {
                            key: 'h2',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<h2>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs font-bold",
                            title: "√úberschrift 2",
                            type: "button"
                        }, 'H2'),
                        React.createElement('button', {
                            key: 'h3',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<h3>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs font-bold",
                            title: "√úberschrift 3",
                            type: "button"
                        }, 'H3'),
                        React.createElement('button', {
                            key: 'h4',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<h4>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs font-bold",
                            title: "√úberschrift 4",
                            type: "button"
                        }, 'H4'),
                        React.createElement('button', {
                            key: 'h5',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<h5>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs font-bold",
                            title: "√úberschrift 5",
                            type: "button"
                        }, 'H5'),
                        React.createElement('button', {
                            key: 'p',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('formatBlock', '<p>', editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs",
                            title: "Normaler Text",
                            type: "button"
                        }, 'P')
                    ]),

                    // Listen Gruppe
                    React.createElement('div', {
                        key: 'lists',
                        className: "flex gap-1 border-r pr-2"
                    }, [
                        React.createElement('button', {
                            key: 'ul',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('insertUnorderedList', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200",
                            title: "Aufz√§hlungsliste",
                            type: "button"
                        }, '‚Ä¢ Liste'),
                        React.createElement('button', {
                            key: 'ol',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('insertOrderedList', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200",
                            title: "Nummerierte Liste",
                            type: "button"
                        }, '1. Liste')
                    ]),

                    // Farben Gruppe
                    React.createElement('div', {
                        key: 'colors',
                        className: "flex gap-1 border-r pr-2 relative"
                    }, [
                        React.createElement('button', {
                            key: 'colorBtn',
                            onClick: (e) => {
                                e.preventDefault();
                                setShowColorPicker(!showColorPicker);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 flex items-center gap-1",
                            title: "Textfarbe",
                            type: "button"
                        }, [
                            React.createElement('span', { key: 'icon' }, 'üé®'),
                            React.createElement('span', { key: 'text', className: "text-xs" }, 'Farbe')
                        ]),
                        
                        showColorPicker && React.createElement('div', {
                            key: 'colorPicker',
                            className: "absolute top-full left-0 mt-1 bg-white border rounded-lg shadow-lg p-3 z-10",
                            style: { minWidth: '280px' }
                        }, [
                            React.createElement('div', {
                                key: 'colorHeader',
                                className: "flex justify-between items-center mb-2"
                            }, [
                                React.createElement('span', {
                                    key: 'title',
                                    className: "text-sm font-semibold"
                                }, 'Kerberos Farben'),
                                React.createElement('button', {
                                    key: 'close',
                                    onClick: () => setShowColorPicker(false),
                                    className: "text-gray-500 hover:text-gray-700",
                                    type: "button"
                                }, '‚úï')
                            ]),
                            React.createElement('div', {
                                key: 'colorGrid',
                                className: "grid grid-cols-4 gap-2"
                            }, [
                                // Hauptfarben
                                { name: 'Blau', color: kerberosColors.primary },
                                { name: 'Hellblau', color: kerberosColors.secondary },
                                { name: 'Text', color: kerberosColors.text },
                                { name: 'Blau Hover', color: kerberosColors.primaryHover },
                                // Abstufungen
                                { name: 'Blau 80%', color: kerberosColors.primary80 },
                                { name: 'Blau 60%', color: kerberosColors.primary60 },
                                { name: 'Blau 40%', color: kerberosColors.primary40 },
                                { name: 'Blau 20%', color: kerberosColors.primary20 },
                                { name: 'Hellblau 80%', color: kerberosColors.secondary80 },
                                { name: 'Hellblau 60%', color: kerberosColors.secondary60 },
                                { name: 'Hellblau 40%', color: kerberosColors.secondary40 },
                                { name: 'Hellblau 20%', color: kerberosColors.secondary20 }
                            ].map(({ name, color }) =>
                                React.createElement('button', {
                                    key: color,
                                    onClick: (e) => {
                                        e.preventDefault();
                                        applyFormat('foreColor', color, editableRef);
                                        setShowColorPicker(false);
                                    },
                                    onMouseDown: (e) => e.preventDefault(),
                                    className: "w-12 h-12 rounded border-2 border-gray-300 hover:border-gray-500 transition-colors",
                                    style: { backgroundColor: color },
                                    title: name,
                                    type: "button"
                                })
                            ))
                        ])
                    ]),

                    // Link Gruppe
                    React.createElement('div', {
                        key: 'link',
                        className: "flex gap-1 relative"
                    }, [
                        React.createElement('button', {
                            key: 'linkBtn',
                            onClick: (e) => {
                                e.preventDefault();
                                setShowLinkInput(!showLinkInput);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs",
                            title: "Link einf√ºgen",
                            type: "button"
                        }, 'üîó Link'),
                        React.createElement('button', {
                            key: 'unlinkBtn',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('unlink', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs",
                            title: "Link entfernen",
                            type: "button"
                        }, '‚õìÔ∏è‚Äçüí•'),

                        showLinkInput && React.createElement('div', {
                            key: 'linkInput',
                            className: "absolute top-full left-0 mt-1 bg-white border rounded-lg shadow-lg p-3 z-10",
                            style: { minWidth: '300px' }
                        }, [
                            React.createElement('div', {
                                key: 'inputGroup',
                                className: "flex gap-2"
                            }, [
                                React.createElement('input', {
                                    key: 'urlInput',
                                    type: 'text',
                                    value: linkUrl,
                                    onChange: (e) => setLinkUrl(e.target.value),
                                    onKeyPress: (e) => e.key === 'Enter' && insertLink(),
                                    placeholder: 'https://...',
                                    className: "flex-1 px-2 py-1 border rounded text-sm",
                                    autoFocus: true
                                }),
                                React.createElement('button', {
                                    key: 'insertBtn',
                                    onClick: insertLink,
                                    className: "px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",
                                    type: "button"
                                }, 'OK'),
                                React.createElement('button', {
                                    key: 'cancelBtn',
                                    onClick: () => {
                                        setShowLinkInput(false);
                                        setLinkUrl('');
                                    },
                                    className: "px-3 py-1 bg-gray-400 text-white rounded text-sm hover:bg-gray-500",
                                    type: "button"
                                }, '‚úï')
                            ])
                        ])
                    ]),

                    // Format entfernen
                    React.createElement('div', {
                        key: 'clear',
                        className: "flex gap-1 border-l pl-2"
                    }, [
                        React.createElement('button', {
                            key: 'removeFormat',
                            onClick: (e) => {
                                e.preventDefault();
                                applyFormat('removeFormat', null, editableRef);
                            },
                            onMouseDown: (e) => e.preventDefault(),
                            className: "px-2 py-1 bg-white border rounded hover:bg-gray-200 text-xs",
                            title: "Formatierung entfernen",
                            type: "button"
                        }, 'üßπ Clear')
                    ])
                ]);
            };


            // Funktion zum Kopieren in Zwischenablage
            const copyToClipboard = async (text, part) => {
                try {
                    await navigator.clipboard.writeText(text);
                    const button = document.querySelector(`[data-copy="${part}"]`);
                    if (button) {
                        const originalText = button.innerHTML;
                        button.innerHTML = '‚úì Kopiert!';
                        button.className = button.className.replace('bg-blue-600', 'bg-green-600');
                        setTimeout(() => {
                            button.innerHTML = originalText;
                            button.className = button.className.replace('bg-green-600', 'bg-blue-600');
                        }, 2000);
                    }
                } catch (err) {
                    console.error('Fehler beim Kopieren:', err);
                    alert('Code wurde kopiert!');
                }
            };

            // Template-Inhalt generieren
            const getTemplateContent = () => {
                const template = templates[currentTemplate];
                if (!template) return [];
                
                return template.modules.map((moduleObj, index) => {
                    const moduleId = typeof moduleObj === 'string' ? moduleObj : moduleObj.id;
                    const moduleName = typeof moduleObj === 'string' ? moduleObj : moduleObj.name;
                    
                    return {
                        id: moduleId,
                        name: moduleName,
                        content: template.customContent?.[moduleId] || modules[moduleName] || '',
                        index
                    };
                });
            };

            // Modul zu Template hinzuf√ºgen
            const addModuleToTemplate = (moduleName) => {
                const newModuleId = `module_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
                
                setTemplates(prev => ({
                    ...prev,
                    [currentTemplate]: {
                        ...prev[currentTemplate],
                        modules: [...(prev[currentTemplate]?.modules || []), { id: newModuleId, name: moduleName }]
                    }
                }));
            };

            // Modul aus Template entfernen
            const removeModuleFromTemplate = (moduleIndex) => {
                setTemplates(prev => {
                    const template = prev[currentTemplate];
                    const newModules = template.modules.filter((_, index) => index !== moduleIndex);
                    const newCustomContent = { ...template.customContent };
                    
                    const removedModule = template.modules[moduleIndex];
                    const removedModuleId = typeof removedModule === 'string' ? removedModule : removedModule.id;
                    
                    if (newCustomContent[removedModuleId]) {
                        delete newCustomContent[removedModuleId];
                    }
                    
                    return {
                        ...prev,
                        [currentTemplate]: {
                            ...template,
                            modules: newModules,
                            customContent: newCustomContent
                        }
                    };
                });
            };

            // Modul nach oben verschieben
            const moveModuleUp = (moduleIndex) => {
                if (moduleIndex === 0) return; // Bereits ganz oben
                
                setTemplates(prev => {
                    const template = prev[currentTemplate];
                    const newModules = [...template.modules];
                    
                    // Elemente tauschen
                    [newModules[moduleIndex - 1], newModules[moduleIndex]] = 
                    [newModules[moduleIndex], newModules[moduleIndex - 1]];
                    
                    return {
                        ...prev,
                        [currentTemplate]: {
                            ...template,
                            modules: newModules
                        }
                    };
                });
            };

            // Modul nach unten verschieben
            const moveModuleDown = (moduleIndex) => {
                const template = templates[currentTemplate];
                if (moduleIndex === template.modules.length - 1) return; // Bereits ganz unten
                
                setTemplates(prev => {
                    const template = prev[currentTemplate];
                    const newModules = [...template.modules];
                    
                    // Elemente tauschen
                    [newModules[moduleIndex], newModules[moduleIndex + 1]] = 
                    [newModules[moduleIndex + 1], newModules[moduleIndex]];
                    
                    return {
                        ...prev,
                        [currentTemplate]: {
                            ...template,
                            modules: newModules
                        }
                    };
                });
            };

            // Modul-Inhalt aktualisieren
            const updateModuleContent = (moduleId, content) => {
                setTemplates(prev => ({
                    ...prev,
                    [currentTemplate]: {
                        ...prev[currentTemplate],
                        customContent: {
                            ...prev[currentTemplate]?.customContent,
                            [moduleId]: content
                        }
                    }
                }));
            };

            // Neues Template hinzuf√ºgen
            const addNewTemplate = () => {
                if (newTemplateName && !templates[newTemplateName]) {
                    setTemplates(prev => ({
                        ...prev,
                        [newTemplateName]: {
                            modules: [],
                            customContent: {}
                        }
                    }));
                    setCurrentTemplate(newTemplateName);
                    setNewTemplateName('');
                    setShowNewTemplateInput(false);
                }
            };

            // Neues Modul zur Bibliothek hinzuf√ºgen
            const addNewModule = () => {
                if (newModuleName && newModuleContent && !modules[newModuleName]) {
                    setModules(prev => ({
                        ...prev,
                        [newModuleName]: newModuleContent
                    }));
                    setNewModuleName('');
                    setNewModuleContent('');
                    setShowNewModuleInput(false);
                }
            };

            // Template l√∂schen
            const deleteTemplate = (templateName) => {
                if (Object.keys(templates).length > 1) {
                    const newTemplates = { ...templates };
                    delete newTemplates[templateName];
                    setTemplates(newTemplates);
                    
                    if (currentTemplate === templateName) {
                        setCurrentTemplate(Object.keys(newTemplates)[0]);
                    }
                }
            };

            // Template kopieren
            const copyTemplate = (templateName) => {
                const copyName = `${templateName} (Kopie)`;
                let finalName = copyName;
                let counter = 1;
                
                // Eindeutigen Namen finden
                while (templates[finalName]) {
                    finalName = `${copyName} ${counter}`;
                    counter++;
                }
                
                // Neue IDs f√ºr kopierte Module generieren
                const originalModules = prev[templateName].modules;
                const newModules = originalModules.map(moduleObj => {
                    const moduleName = typeof moduleObj === 'string' ? moduleObj : moduleObj.name;
                    return {
                        id: `module_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
                        name: moduleName
                    };
                });
                
                // Custom Content mit neuen IDs mappen
                const newCustomContent = {};
                originalModules.forEach((moduleObj, index) => {
                    const oldId = typeof moduleObj === 'string' ? moduleObj : moduleObj.id;
                    const newId = newModules[index].id;
                    if (prev[templateName].customContent[oldId]) {
                        newCustomContent[newId] = prev[templateName].customContent[oldId];
                    }
                });
                
                setTemplates(prev => ({
                    ...prev,
                    [finalName]: {
                        modules: newModules,
                        customContent: newCustomContent
                    }
                }));
                
                setCurrentTemplate(finalName);
            };

            // Modul zwischen Templates kopieren
            const copyModuleToTemplate = (moduleData, targetTemplate) => {
                const { name, content } = moduleData;
                const newModuleId = `module_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
                
                setTemplates(prev => ({
                    ...prev,
                    [targetTemplate]: {
                        ...prev[targetTemplate],
                        modules: [...(prev[targetTemplate]?.modules || []), { id: newModuleId, name: name }],
                        customContent: {
                            ...prev[targetTemplate]?.customContent,
                            [newModuleId]: content
                        }
                    }
                }));
            };

            // Modul in Bibliothek bearbeiten
            const editModuleInLibrary = (moduleName) => {
                setEditingModule(moduleName);
                setNewModuleName(moduleName);
                setNewModuleContent(modules[moduleName]);
                setShowNewModuleInput(true);
            };

            // Modul in Bibliothek aktualisieren
            const updateModuleInLibrary = () => {
                if (editingModule && newModuleName && newModuleContent) {
                    const newModules = { ...modules };
                    
                    // Wenn Name ge√§ndert wurde, altes Modul l√∂schen
                    if (editingModule !== newModuleName) {
                        delete newModules[editingModule];
                    }
                    
                    newModules[newModuleName] = newModuleContent;
                    setModules(newModules);
                    
                    setEditingModule(null);
                    setNewModuleName('');
                    setNewModuleContent('');
                    setShowNewModuleInput(false);
                    
                }
            };

            // HTML-Code-Editor mit Syntax-Highlighting (einfach)
            const toggleCodeEditor = (moduleIndex) => {
                setShowEditor(prev => ({
                    ...prev, 
                    [moduleIndex]: !prev[moduleIndex]
                }));
            };

            // Textinhalt aus HTML extrahieren f√ºr Vorschau
            const extractTextContent = (htmlString) => {
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = htmlString;
                return tempDiv.textContent || tempDiv.innerText || '';
            };
            // Export/Import Funktionen
            const exportData = () => {
                const dataStr = JSON.stringify({ templates, modules }, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', 'salesforce-templates-and-modules.json');
                linkElement.click();
            };

            const importData = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const imported = JSON.parse(e.target.result);
                            if (imported.templates) setTemplates(prev => ({ ...prev, ...imported.templates }));
                            if (imported.modules) setModules(prev => ({ ...prev, ...imported.modules }));
                            alert('Templates und Module erfolgreich importiert!');
                        } catch (err) {
                            alert('Fehler beim Importieren der Datei');
                        }
                    };
                    reader.readAsText(file);
                }
            };

            const templateContent = getTemplateContent();

            return React.createElement('div', {
                className: "min-h-screen bg-gray-50 p-4"
            }, [
                React.createElement('div', {
                    key: 'container',
                    className: "max-w-7xl mx-auto"
                }, [
                    // Header
                    React.createElement('div', {
                        key: 'header',
                        className: "bg-white rounded-lg shadow-sm p-6 mb-6"
                    }, [
                        React.createElement('div', {
                            key: 'headerContent',
                            className: "flex items-center justify-between flex-wrap gap-4"
                        }, [
                            React.createElement('div', { key: 'headerText' }, [
                                React.createElement('h1', {
                                    key: 'title',
                                    className: "text-3xl font-bold text-gray-900"
                                }, 'üìß Salesforce Template Editor'),
                                React.createElement('p', {
                                    key: 'subtitle',
                                    className: "text-gray-600 mt-2"
                                }, 'Standalone Version - Lokale Nutzung ohne Internetverbindung')
                            ]),
                            React.createElement('div', {
                                key: 'headerButtons',
                                className: "flex gap-2 flex-wrap"
                            }, [
                                React.createElement('button', {
                                    key: 'editBtn',
                                    onClick: () => setEditablePreview(!editablePreview),
                                    className: `flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${
                                        editablePreview ? 'bg-green-600 text-white' : 'bg-gray-200 text-gray-700'
                                    }`
                                }, [
                                    React.createElement(Icons.Edit, { key: 'editIcon' }),
                                    'Bearbeitbar'
                                ]),
                                React.createElement('button', {
                                    key: 'previewBtn',
                                    onClick: () => setPreviewMode(!previewMode),
                                    className: `flex items-center gap-2 px-4 py-2 rounded-lg font-medium ${
                                        previewMode ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'
                                    }`
                                }, [
                                    React.createElement(Icons.Eye, { key: 'eyeIcon' }),
                                    'Preview'
                                ])
                            ])
                        ])
                    ]),

                    // Main Grid
                    React.createElement('div', {
                        key: 'mainGrid',
                        className: "grid grid-cols-1 lg:grid-cols-4 gap-6"
                    }, [
                        // Sidebar
                        React.createElement('div', {
                            key: 'sidebar',
                            className: "lg:col-span-1 space-y-6"
                        }, [
                            // Templates Section
                            React.createElement('div', {
                                key: 'templates',
                                className: "bg-white rounded-lg shadow-sm p-4"
                            }, [
                                React.createElement('div', {
                                    key: 'templatesHeader',
                                    className: "flex items-center justify-between mb-4"
                                }, [
                                    React.createElement('h2', {
                                        key: 'templatesTitle',
                                        className: "text-lg font-semibold"
                                    }, 'üìÑ Templates'),
                                    React.createElement('button', {
                                        key: 'addTemplateBtn',
                                        onClick: () => setShowNewTemplateInput(!showNewTemplateInput),
                                        className: "p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
                                    }, React.createElement(Icons.Plus))
                                ]),

                                showNewTemplateInput && React.createElement('div', {
                                    key: 'newTemplateInput',
                                    className: "mb-4 p-3 bg-gray-50 rounded-lg"
                                }, [
                                    React.createElement('input', {
                                        key: 'templateInput',
                                        type: "text",
                                        placeholder: "Template Name",
                                        value: newTemplateName,
                                        onChange: (e) => setNewTemplateName(e.target.value),
                                        className: "w-full p-2 border rounded mb-2 text-sm",
                                        onKeyPress: (e) => e.key === 'Enter' && addNewTemplate()
                                    }),
                                    React.createElement('div', {
                                        key: 'templateInputButtons',
                                        className: "flex gap-2"
                                    }, [
                                        React.createElement('button', {
                                            key: 'addBtn',
                                            onClick: addNewTemplate,
                                            className: "px-3 py-1 bg-green-600 text-white rounded text-sm"
                                        }, 'Hinzuf√ºgen'),
                                        React.createElement('button', {
                                            key: 'cancelBtn',
                                            onClick: () => setShowNewTemplateInput(false),
                                            className: "px-3 py-1 bg-gray-400 text-white rounded text-sm"
                                        }, 'Abbrechen')
                                    ])
                                ]),

                                // Template List
                                React.createElement('div', {
                                    key: 'templateList',
                                    className: "space-y-2 mb-4"
                                }, Object.keys(templates).map(templateName => 
                                    React.createElement('div', {
                                        key: templateName,
                                        className: "flex items-center justify-between"
                                    }, [
                                        React.createElement('button', {
                                            key: `select-${templateName}`,
                                            onClick: () => setCurrentTemplate(templateName),
                                            className: `flex-1 text-left p-3 rounded-lg text-sm ${
                                                currentTemplate === templateName 
                                                    ? 'bg-blue-100 text-blue-800 border-2 border-blue-200' 
                                                    : 'bg-gray-50 text-gray-700 hover:bg-gray-100'
                                            }`
                                        }, templateName),
                                        React.createElement('div', {
                                            key: `actions-${templateName}`,
                                            className: "flex gap-1 ml-2"
                                        }, [
                                            React.createElement('button', {
                                                key: `copy-${templateName}`,
                                                onClick: () => copyTemplate(templateName),
                                                className: "p-2 text-blue-600 hover:bg-blue-50 rounded",
                                                title: "Template kopieren"
                                            }, React.createElement(Icons.Clone)),
                                            Object.keys(templates).length > 1 && React.createElement('button', {
                                                key: `delete-${templateName}`,
                                                onClick: () => {
                                                    if(confirm(`Template "${templateName}" wirklich l√∂schen?`)) {
                                                        deleteTemplate(templateName);
                                                    }
                                                },
                                                className: "p-2 text-red-600 hover:bg-red-50 rounded",
                                                title: "Template l√∂schen"
                                            }, React.createElement(Icons.Trash))
                                        ])
                                    ])
                                )),

                                // Export/Import
                                React.createElement('div', {
                                    key: 'exportImport',
                                    className: "space-y-2"
                                }, [
                                    React.createElement('button', {
                                        key: 'exportBtn',
                                        onClick: exportData,
                                        className: "w-full flex items-center gap-2 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm"
                                    }, [
                                        React.createElement(Icons.Download),
                                        'Export Alle'
                                    ]),
                                    React.createElement('button', {
                                        key: 'importBtn',
                                        onClick: () => fileInputRef.current && fileInputRef.current.click(),
                                        className: "w-full flex items-center gap-2 p-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm"
                                    }, [
                                        React.createElement(Icons.Upload),
                                        'Import'
                                    ]),
                                    React.createElement('input', {
                                        key: 'fileInput',
                                        type: "file",
                                        ref: fileInputRef,
                                        onChange: importData,
                                        accept: ".json",
                                        className: "hidden"
                                    })
                                ])
                            ]),

                            // Module Library
                            React.createElement('div', {
                                key: 'moduleLibrary',
                                className: "bg-white rounded-lg shadow-sm p-4"
                            }, [
                                React.createElement('div', {
                                    key: 'moduleHeader',
                                    className: "flex items-center justify-between mb-4"
                                }, [
                                    React.createElement('h2', {
                                        key: 'moduleTitle',
                                        className: "text-lg font-semibold"
                                    }, 'üì¶ Module'),
                                    React.createElement('button', {
                                        key: 'addModuleBtn',
                                        onClick: () => setShowNewModuleInput(!showNewModuleInput),
                                        className: "p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700"
                                    }, React.createElement(Icons.Plus))
                                ]),

                                showNewModuleInput && React.createElement('div', {
                                    key: 'newModuleInput',
                                    className: "mb-4 p-3 bg-gray-50 rounded-lg"
                                }, [
                                    React.createElement('input', {
                                        key: 'moduleNameInput',
                                        type: "text",
                                        placeholder: "Modul Name",
                                        value: newModuleName,
                                        onChange: (e) => setNewModuleName(e.target.value),
                                        className: "w-full p-2 border rounded mb-2 text-sm"
                                    }),
                                    React.createElement('textarea', {
                                        key: 'moduleContentInput',
                                        placeholder: "HTML Code",
                                        value: newModuleContent,
                                        onChange: (e) => setNewModuleContent(e.target.value),
                                        className: "w-full p-2 border rounded mb-2 text-sm h-20 font-mono"
                                    }),
                                    React.createElement('div', {
                                        key: 'moduleInputButtons',
                                        className: "flex gap-2"
                                    }, [
                                        React.createElement('button', {
                                            key: 'addModuleBtn',
                                            onClick: editingModule ? updateModuleInLibrary : addNewModule,
                                            className: "px-3 py-1 bg-green-600 text-white rounded text-sm"
                                        }, editingModule ? 'Aktualisieren' : 'Hinzuf√ºgen'),
                                        React.createElement('button', {
                                            key: 'cancelModuleBtn',
                                            onClick: () => {
                                                setEditingModule(null);
                                                setShowNewModuleInput(false);
                                                setNewModuleName('');
                                                setNewModuleContent('');
                                            },
                                            className: "px-3 py-1 bg-gray-400 text-white rounded text-sm"
                                        }, 'Abbrechen')
                                    ])
                                ]),

                                React.createElement('div', {
                                    key: 'moduleList',
                                    className: "space-y-2 max-h-96 overflow-y-auto"
                                }, Object.keys(modules).map(moduleName => 
                                    React.createElement('div', {
                                        key: moduleName,
                                        className: "flex items-center justify-between p-2 border rounded-lg hover:bg-gray-50"
                                    }, [
                                        React.createElement('span', {
                                            key: `name-${moduleName}`,
                                            className: "text-sm text-gray-700 flex-1 mr-2"
                                        }, moduleName),
                                        React.createElement('div', {
                                            key: `actions-${moduleName}`,
                                            className: "flex gap-1"
                                        }, [
                                            React.createElement('button', {
                                                key: `edit-${moduleName}`,
                                                onClick: () => editModuleInLibrary(moduleName),
                                                className: "p-1 text-blue-600 hover:bg-blue-50 rounded",
                                                title: "Modul bearbeiten"
                                            }, React.createElement(Icons.Edit)),
                                            React.createElement('button', {
                                                key: `add-${moduleName}`,
                                                onClick: () => addModuleToTemplate(moduleName),
                                                className: "p-1 bg-green-600 text-white rounded hover:bg-green-700",
                                                title: "Zu Template hinzuf√ºgen"
                                            }, React.createElement(Icons.PlusCircle))
                                        ])
                                    ])
                                ))
                            ])
                        ]),

                        // Main Content
                        React.createElement('div', {
                            key: 'mainContent',
                            className: "lg:col-span-3 space-y-6"
                        }, [
                            // Template Info
                            React.createElement('div', {
                                key: 'templateInfo',
                                className: "bg-blue-50 border border-blue-200 rounded-lg p-4"
                            }, [
                                React.createElement('h3', {
                                    key: 'infoTitle',
                                    className: "font-semibold text-blue-800 mb-2"
                                }, `üìã Template: ${currentTemplate}`),
                                React.createElement('p', {
                                    key: 'infoText',
                                    className: "text-blue-700 text-sm"
                                }, `${templateContent.length} Module${templateContent.length !== 1 ? 's' : ''} ‚Ä¢ ${previewMode ? (editablePreview ? 'Bearbeitbare Preview aktiv' : 'Preview aktiv') : 'Code-Ansicht aktiv'}`)
                            ]),

                            // Template Modules  
                            ...templateContent.map((module) => 
                                React.createElement('div', {
                                    key: `${module.name}-${module.index}`,
                                    className: "bg-white rounded-lg shadow-sm p-6"
                                }, [
                                    React.createElement('div', {
                                        key: 'moduleHeader',
                                        className: "flex items-center justify-between mb-4 flex-wrap gap-2"
                                    }, [
                                        React.createElement('div', {
                                            key: 'moduleTitle',
                                            className: "flex items-center gap-3"
                                        }, [
                                            React.createElement('h3', {
                                                key: 'title',
                                                className: "text-lg font-semibold text-gray-800"
                                            }, [
                                                `${module.index + 1}. ${module.name}`,
                                                React.createElement('span', {
                                                    key: 'moduleId',
                                                    className: "text-xs text-gray-400 ml-2 font-mono"
                                                }, `#${module.id.substr(-8)}`)
                                            ]),
                                            React.createElement('div', {
                                                key: 'moveButtons',
                                                className: "flex gap-1"
                                            }, [
                                                // Nach oben Button
                                                module.index > 0 && React.createElement('button', {
                                                    key: 'moveUpBtn',
                                                    onClick: () => moveModuleUp(module.index),
                                                    className: "p-1 text-blue-600 hover:bg-blue-50 rounded",
                                                    title: "Nach oben verschieben"
                                                }, React.createElement(Icons.ArrowUp)),
                                                // Nach unten Button
                                                module.index < templateContent.length - 1 && React.createElement('button', {
                                                    key: 'moveDownBtn',
                                                    onClick: () => moveModuleDown(module.index),
                                                    className: "p-1 text-blue-600 hover:bg-blue-50 rounded",
                                                    title: "Nach unten verschieben"
                                                }, React.createElement(Icons.ArrowDown))
                                            ]),
                                            React.createElement('div', {
                                                key: 'moduleActions',
                                                className: "flex gap-1"
                                            }, [
                                                // Modul zu anderem Template kopieren
                                                Object.keys(templates).length > 1 && React.createElement('div', {
                                                    key: 'copyToTemplate',
                                                    className: "relative copy-dropdown-parent"
                                                }, [
                                                    React.createElement('button', {
                                                        key: 'copyBtn',
                                                        className: "p-1 text-green-600 hover:bg-green-50 rounded",
                                                        title: "In anderes Template kopieren"
                                                    }, React.createElement(Icons.Clone)),
                                                    React.createElement('div', {
                                                        key: 'copyDropdown',
                                                        className: "copy-dropdown"
                                                    }, Object.keys(templates).filter(t => t !== currentTemplate).map(targetTemplate =>
                                                        React.createElement('button', {
                                                            key: targetTemplate,
                                                            onClick: () => copyModuleToTemplate({
                                                                name: module.name,
                                                                content: module.content
                                                            }, targetTemplate),
                                                            className: "block w-full text-left px-3 py-1 hover:bg-gray-100 rounded text-sm"
                                                        }, `‚Üí ${targetTemplate}`)
                                                    ))
                                                ]),
                                                React.createElement('button', {
                                                    key: 'removeBtn',
                                                    onClick: () => {
                                                        if(confirm(`Modul "${module.name}" aus dem Template entfernen?`)) {
                                                            removeModuleFromTemplate(module.index);
                                                        }
                                                    },
                                                    className: "p-1 text-red-600 hover:bg-red-50 rounded",
                                                    title: "Modul entfernen"
                                                }, React.createElement(Icons.Trash))
                                            ])
                                        ]),
                                        React.createElement('div', {
                                            key: 'moduleHeaderActions',
                                            className: "flex gap-2 flex-wrap"
                                        }, [
                                            (!previewMode || editablePreview) && React.createElement('button', {
                                                key: 'htmlEditorBtn',
                                                onClick: () => toggleCodeEditor(module.index),
                                                className: `flex items-center gap-2 px-3 py-1 ${showEditor[module.index] ? 'bg-blue-600 text-white' : 'bg-blue-100 text-blue-700'} rounded-lg hover:bg-blue-600 hover:text-white text-sm`
                                            }, [
                                                React.createElement(Icons.Edit),
                                                showEditor[module.index] ? 'Editor schlie√üen' : 'HTML Editor'
                                            ]),
                                            React.createElement('button', {
                                                key: 'copyBtn',
                                                onClick: () => copyToClipboard(module.content, `${module.name}-${module.index}`),
                                                'data-copy': `${module.name}-${module.index}`,
                                                className: "flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
                                            }, [
                                                React.createElement(Icons.Copy),
                                                'Kopieren'
                                            ])
                                        ])
                                    ]),

                                    // HTML-Struktur-erhaltender Editor
                                    showEditor[module.index] && React.createElement('div', {
                                        key: 'htmlEditorPanel',
                                        className: "border border-gray-300 rounded-lg p-4 mb-4 bg-white"
                                    }, [
                                        React.createElement('div', {
                                            key: 'htmlEditorHeader',
                                            className: "flex justify-between items-center mb-3"
                                        }, [
                                            React.createElement('h4', {
                                                key: 'htmlEditorTitle',
                                                className: "font-medium text-gray-700"
                                            }, `HTML-Editor: ${module.name}`),
                                            React.createElement('button', {
                                                key: 'closeHtmlEditorBtn',
                                                onClick: () => toggleCodeEditor(module.index),
                                                className: "text-red-600 hover:text-red-800 font-bold"
                                            }, '‚úï')
                                        ]),
                                        React.createElement('div', {
                                            key: 'htmlEditorTabs',
                                            className: "flex mb-3 border-b"
                                        }, [
                                            React.createElement('button', {
                                                key: 'htmlTab',
                                                className: "px-4 py-2 border-b-2 border-blue-500 text-blue-600 font-medium"
                                            }, 'HTML Code'),
                                            React.createElement('div', {
                                                key: 'htmlInfo',
                                                className: "ml-4 py-2 text-sm text-gray-600"
                                            }, 'Tabellen-Struktur wird beibehalten')
                                        ]),
                                        React.createElement('textarea', {
                                            key: 'htmlTextarea',
                                            value: module.content,
                                            onChange: (e) => updateModuleContent(module.id, e.target.value),
                                            onPaste: handlePaste,
                                            className: "w-full h-64 p-4 font-mono text-sm border border-gray-300 rounded-lg resize-y focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50",
                                            placeholder: "HTML Code hier bearbeiten...",
                                            spellCheck: false
                                        }),
                                        React.createElement('div', {
                                            key: 'htmlPreview',
                                            className: "mt-3 p-3 border border-gray-200 rounded-lg bg-gray-50"
                                        }, [
                                            React.createElement('h5', {
                                                key: 'previewTitle',
                                                className: "text-sm font-medium text-gray-700 mb-2"
                                            }, 'Live-Vorschau:'),
                                            React.createElement('div', {
                                                key: 'previewContent',
                                                className: "text-sm",
                                                dangerouslySetInnerHTML: { __html: module.content }
                                            })
                                        ])
                                    ]),

                                    // Content Area
                                    previewMode ? (
                                        editablePreview ? [
                                            React.createElement(FormatToolbar, {
                                                key: 'toolbar',
                                                moduleIndex: module.index
                                            }),
                                            React.createElement('div', {
                                                key: 'editableContent',
                                                className: "border-2 border-dashed border-green-300 rounded-lg p-4 bg-green-50 min-h-24",
                                                contentEditable: true,
                                                dangerouslySetInnerHTML: { __html: module.content },
                                                onFocus: (e) => {
                                                    setActiveTextarea(e.target);
                                                    e.target.dataset.moduleIndex = module.index;
                                                },
                                                onBlur: (e) => {
                                                    const newContent = e.target.innerHTML;
                                                    updateModuleContent(module.id, newContent);
                                                },
                                                onPaste: handlePaste,
                                                style: { outline: 'none' },
                                            title: "Klicken Sie hier, um den Inhalt direkt zu bearbeiten"
                                                })
                                            ] : (
                                            React.createElement('div', {
                                                key: 'previewContent',
                                                className: "border border-gray-200 rounded-lg p-4 bg-gray-50 max-h-64 overflow-y-auto",
                                                dangerouslySetInnerHTML: { __html: module.content }
                                            })
                                        )
                                    ) : (
                                        React.createElement('textarea', {
                                            key: 'textareaContent',
                                            value: module.content,
                                            onChange: (e) => updateModuleContent(module.id, e.target.value),
                                            onFocus: (e) => {
                                                setActiveTextarea(e.target);
                                                e.target.dataset.moduleIndex = module.index;
                                            },
                                            onPaste: handlePaste,
                                            className: "w-full h-64 p-4 font-mono text-sm border border-gray-300 rounded-lg resize-y focus:ring-2 focus:ring-blue-500 focus:border-transparent",
                                            placeholder: "HTML Code hier bearbeiten..."
                                        })
                                    )
                                ])
                            ),

                            // Complete Template Copy
                            React.createElement('div', {
                                key: 'completeTemplate',
                                className: "bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg shadow-lg p-6"
                            }, [
                                React.createElement('div', {
                                    key: 'completeHeader',
                                    className: "flex items-center justify-between flex-wrap gap-4"
                                }, [
                                    React.createElement('div', { key: 'completeInfo' }, [
                                        React.createElement('h3', {
                                            key: 'completeTitle',
                                            className: "text-xl font-bold text-gray-800"
                                        }, 'üéØ Komplettes Template'),
                                        React.createElement('p', {
                                            key: 'completeDescription',
                                            className: "text-gray-600 mt-1"
                                        }, `Alle ${templateContent.length} Module als fertiges Salesforce-Template`)
                                    ]),
                                    React.createElement('button', {
                                        key: 'copyAllBtn',
                                        onClick: () => {
                                            const completeHtml = templateContent.map(m => m.content).join('\n\n');
                                            copyToClipboard(completeHtml, 'complete');
                                        },
                                        'data-copy': 'complete',
                                        className: "flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium text-lg"
                                        }, [
                                        React.createElement(Icons.Copy),
                                        `üì• Alles kopieren`
                                    ])
                                ])
                            ])
                        ])
                    ])
                ])
            ]);
        };

        // Render the app
        ReactDOM.render(React.createElement(SalesforceTemplateEditor), document.getElementById('root'));
    </script>
</body>
</html>
